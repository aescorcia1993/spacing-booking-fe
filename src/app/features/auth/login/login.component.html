<div class="login-container">
  <div class="login-wrapper">
    <div class="login-header">
      <i class="pi pi-building" style="font-size: 3rem; color: #0033A0;"></i>
      <h1>SpaceBooking</h1>
      <p>Sistema de Reservas de Espacios</p>
    </div>

    <p-card styleClass="login-card">
      <ng-template pTemplate="content">
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
          <h2 class="login-title">Iniciar Sesión</h2>

          <div class="field">
            <label for="email">Email</label>
            <input
              pInputText
              id="email"
              formControlName="email"
              type="email"
              placeholder="correo@ejemplo.com"
              class="w-full"
              [class.ng-invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
            />
            @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
              <small class="p-error">Email es requerido</small>
            }
          </div>

          <div class="field">
            <label for="password">Contraseña</label>
            <span class="p-input-icon-right w-full">
              <p-password
                formControlName="password"
                [toggleMask]="true"
                [feedback]="false"
                placeholder="Contraseña"
                styleClass="w-full"
                inputStyleClass="w-full"
                [class.ng-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
              />
            </span>
            @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
              <small class="p-error">Contraseña es requerida</small>
            }
          </div>

          @if (error()) {
            <p-message severity="error" [text]="error()!" styleClass="w-full mb-3" />
          }

          <div class="button-container">
            <p-button
              label="Iniciar Sesión"
              icon="pi pi-sign-in"
              [loading]="loading()"
              [disabled]="loginForm.invalid || loading()"
              type="submit"
              styleClass="w-full btn-primary"
            />
          </div>

          <div class="register-link">
            <span>¿No tienes cuenta?</span>
            <a routerLink="/register">Regístrate aquí</a>
          </div>
        </form>
      </ng-template>
    </p-card>
  </div>
</div>
